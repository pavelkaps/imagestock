{"version":3,"sources":["controllers/image-detail-controller/image-detail-controller.es6"],"names":["ImageDetailController","$scope","detailImageService","$mdDialog","init","like","dislike","image","getImage","setLike","setDislike","close","cancel","addComment","nickname","text","commentForm","$valid","comment","own","data","Date","now","commentText","comments","push","countActions","action","count","image_likes","forEach","el","ind","arr","like_type","$inject"],"mappings":";;;;;;;;;;IAAMA,qB;AACF,mCAAYC,MAAZ,EAAqBC,kBAArB,EAAyCC,SAAzC,EAAoD;AAAA;;AAChD,aAAKC,IAAL,CAAUH,MAAV,EAAmBC,kBAAnB,EAAuCC,SAAvC;AACH;;;;6BACIF,M,EAAQC,kB,EAAoBC,S,EAAW;AACxCF,mBAAOI,IAAP,GAAc,KAAd;AACAJ,mBAAOK,OAAP,GAAiB,KAAjB;;AAEAL,mBAAOM,KAAP,GAAeL,mBAAmBM,QAAnB,EAAf;;AAEAP,mBAAOQ,OAAP,GAAiB,YAAM;AACnBR,uBAAOI,IAAP,GAAc,CAACJ,OAAOI,IAAtB;AACH,aAFD;;AAIAJ,mBAAOS,UAAP,GAAoB,YAAM;AACtBT,uBAAOK,OAAP,GAAiB,CAACL,OAAOK,OAAzB;AACH,aAFD;;AAIAL,mBAAOU,KAAP,GAAe,YAAM;AACjBR,0BAAUS,MAAV;AACH,aAFD;;AAIAX,mBAAOY,UAAP,GAAoB,UAACC,QAAD,EAAWC,IAAX,EAAoB;AACpC,oBAAGd,OAAOe,WAAP,CAAmBC,MAAtB,EAA6B;AACzB,wBAAIC,UAAU,EAAd;AACAA,4BAAQC,GAAR,GAAcL,QAAd;AACAI,4BAAQH,IAAR,GAAeA,IAAf;AACAG,4BAAQE,IAAR,GAAeC,KAAKC,GAAL,EAAf;;AAEArB,2BAAOa,QAAP,GAAkB,EAAlB;AACAb,2BAAOsB,WAAP,GAAqB,EAArB;AACAtB,2BAAOM,KAAP,CAAaiB,QAAb,CAAsBC,IAAtB,CAA2BP,OAA3B;AACH;AACJ,aAXD;;AAaAjB,mBAAOyB,YAAP,GAAsB,UAACnB,KAAD,EAAQoB,MAAR,EAAmB;AACrC,oBAAIC,QAAQ,CAAZ;AACArB,sBAAMsB,WAAN,CAAkBC,OAAlB,CAA0B,UAACC,EAAD,EAAKC,GAAL,EAAUC,GAAV,EAAkB;AACxC,wBAAGF,GAAGG,SAAH,KAAiBP,MAApB,EAA2B;AACvBC;AACH;AACJ,iBAJD;AAKA,uBAAOA,KAAP;AACH,aARD;AASH;;;;;;AAEL5B,sBAAsBmC,OAAtB,GAAgC,CAAC,QAAD,EAAU,oBAAV,EAAgC,WAAhC,CAAhC;QACQnC,qB,GAAAA,qB","file":"image-detail-controller.js","sourcesContent":["class ImageDetailController {\r\n    constructor($scope,  detailImageService, $mdDialog) {\r\n        this.init($scope,  detailImageService, $mdDialog);\r\n    }\r\n    init($scope, detailImageService, $mdDialog) {\r\n        $scope.like = false;\r\n        $scope.dislike = false;\r\n\r\n        $scope.image = detailImageService.getImage();\r\n\r\n        $scope.setLike = () => {\r\n            $scope.like = !$scope.like;\r\n        };\r\n\r\n        $scope.setDislike = () => {\r\n            $scope.dislike = !$scope.dislike;\r\n        };\r\n\r\n        $scope.close = () => {\r\n            $mdDialog.cancel();\r\n        };\r\n\r\n        $scope.addComment = (nickname, text) => {\r\n            if($scope.commentForm.$valid){\r\n                var comment = {};\r\n                comment.own = nickname;\r\n                comment.text = text;\r\n                comment.data = Date.now();\r\n\r\n                $scope.nickname = '';\r\n                $scope.commentText = '';\r\n                $scope.image.comments.push(comment);\r\n            }\r\n        };\r\n\r\n        $scope.countActions = (image, action) => {\r\n            var count = 0;\r\n            image.image_likes.forEach((el, ind, arr) => {\r\n                if(el.like_type === action){\r\n                    count++;\r\n                }\r\n            });\r\n            return count;\r\n        };\r\n    }\r\n}\r\nImageDetailController.$inject = ['$scope','detailImageService', '$mdDialog'];\r\nexport {ImageDetailController}"]}