{"version":3,"sources":["controllers/gallery-controller/gallery-controller.es6"],"names":["GalleryController","$scope","imageService","detailImageService","$mdDialog","init","resizingImages","stylesCardWidth","width","stylesCardHeight","height","getWidthSize","digit","Math","random","getHeightSize","getAll","then","data","randomResizeImages","err","console","log","map","image","randomResizeOneImage","toDetail","ev","setImage","show","templateUrl","parent","angular","element","document","body","targetEvent","clickOutsideToClose","fullscreen","answer","addImage","imageUrl","createImage","image_url","image_likes","comments","push","countActions","action","count","forEach","el","ind","arr","like_type","$inject"],"mappings":";;;;;;;;;;IAAMA,iB;AACF,+BAAYC,MAAZ,EAAoBC,YAApB,EAAkCC,kBAAlC,EAAsDC,SAAtD,EAAiE;AAAA;;AAC7D,aAAKC,IAAL,CAAUJ,MAAV,EAAkBC,YAAlB,EAAgCC,kBAAhC,EAAoDC,SAApD;AACH;;;;6BACIH,M,EAAQC,Y,EAAcC,kB,EAAoBC,S,EAAW;AACtDH,mBAAOK,cAAP,GAAwB,EAAxB;;AAEAL,mBAAOM,eAAP,GAAyB,CACrB;AACIC,uBAAO;AADX,aADqB,EAIrB;AACIA,uBAAO;AADX,aAJqB,CAAzB;;AAQAP,mBAAOQ,gBAAP,GAA0B,CACtB;AACIC,wBAAQ;AADZ,aADsB,EAItB;AACIA,wBAAQ;AADZ,aAJsB,CAA1B;;AAQA,qBAASC,YAAT,GAAyB;AACrB,oBAAIC,QAAQC,KAAKC,MAAL,EAAZ;;AAEA,oBAAIF,QAAQ,GAAZ,EAAiB;AACb,2BAAOX,OAAOM,eAAP,CAAuB,CAAvB,EAA0BC,KAAjC;AACH,iBAFD,MAEO;AACH,2BAAOP,OAAOM,eAAP,CAAuB,CAAvB,EAA0BC,KAAjC;AACH;AACJ;;AAED,qBAASO,aAAT,GAA0B;AACtB,oBAAIH,QAAQC,KAAKC,MAAL,EAAZ;AACA,oBAAIF,QAAQ,GAAZ,EAAiB;AACb,2BAAOX,OAAOQ,gBAAP,CAAwB,CAAxB,EAA2BC,MAAlC;AACH,iBAFD,MAEO;AACH,2BAAOT,OAAOQ,gBAAP,CAAwB,CAAxB,EAA2BC,MAAlC;AACH;AACJ;;AAGDR,yBAAac,MAAb,GAAsBC,IAAtB,CACI,UAACC,IAAD,EAAU;AACNjB,uBAAOK,cAAP,GAAwBa,mBAAmBD,KAAKA,IAAxB,CAAxB;AACH,aAHL,EAII,UAACE,GAAD,EAAS;AACLC,wBAAQC,GAAR,CAAYF,GAAZ;AACH,aANL;;AAUA,qBAASD,kBAAT,CAA4BD,IAA5B,EAAkC;AAC9B,uBAAOA,KAAKK,GAAL,CAAS,UAACL,IAAD,EAAU;AACtB,2BAAO,EAACV,OAAOG,cAAR,EAAwBD,QAAQK,eAAhC,EAAiDS,OAAON,IAAxD,EAAP;AACH,iBAFM,CAAP;AAGH;;AAED,qBAASO,oBAAT,CAA8BD,KAA9B,EAAqC;AACjC,uBAAO,EAAChB,OAAOG,cAAR,EAAwBD,QAAQK,eAAhC,EAAiDS,OAAOA,KAAxD,EAAP;AACH;;AAEDvB,mBAAOyB,QAAP,GAAkB,UAACC,EAAD,EAAKH,KAAL,EAAe;AAC7BrB,mCAAmByB,QAAnB,CAA4BJ,KAA5B;AACApB,0BAAUyB,IAAV,CAAe;AACXC,iCAAa,wEADF;AAEXC,4BAAQC,QAAQC,OAAR,CAAgBC,SAASC,IAAzB,CAFG;AAGXC,iCAAaT,EAHF;AAIXU,yCAAqB,IAJV;AAKXC,gCAAY;AALD,iBAAf,EAMGrB,IANH,CAMQ,UAACsB,MAAD,EAAY,CAEnB,CARD,EAQG,YAAM;AACLlB,4BAAQC,GAAR,CAAY,eAAZ;AACH,iBAVD;AAWH,aAbD;;AAeArB,mBAAOuC,QAAP,GAAkB,UAAUb,EAAV,EAAc;AAC5BvB,0BAAUyB,IAAV,CAAe;AACXC,iCAAa,uDADF;AAEXC,4BAAQC,QAAQC,OAAR,CAAgBC,SAASC,IAAzB,CAFG;AAGXC,iCAAaT,EAHF;AAIXU,yCAAqB,IAJV;AAKXC,gCAAY;AALD,iBAAf,EAMGrB,IANH,CAMQ,UAACwB,QAAD,EAAc;AAClBC,gCAAYD,QAAZ;AACH,iBARD,EAQG,YAAM;AACLpB,4BAAQC,GAAR,CAAY,eAAZ;AACH,iBAVD;AAWH,aAZD;;AAcA,qBAASoB,WAAT,CAAqBD,QAArB,EAA8B;AAC1B,oBAAIjB,QAAQ;AACRmB,+BAAYF,QADJ;AAERG,iCAAc,EAFN;AAGRC,8BAAU;AAHF,iBAAZ;;AAMA5C,uBAAOK,cAAP,CAAsBwC,IAAtB,CAA2BrB,qBAAqBD,KAArB,CAA3B;AACH;;AAEDvB,mBAAO8C,YAAP,GAAsB,UAACvB,KAAD,EAAQwB,MAAR,EAAmB;AACrC,oBAAIC,QAAQ,CAAZ;AACAzB,sBAAMoB,WAAN,CAAkBM,OAAlB,CAA0B,UAACC,EAAD,EAAKC,GAAL,EAAUC,GAAV,EAAkB;AACxC,wBAAGF,GAAGG,SAAH,KAAiBN,MAApB,EAA2B;AACvBC;AACH;AACJ,iBAJD;AAKA,uBAAOA,KAAP;AACH,aARD;AASH;;;;;;AAELjD,kBAAkBuD,OAAlB,GAA4B,CAAC,QAAD,EAAW,cAAX,EAA2B,oBAA3B,EAAiD,WAAjD,CAA5B;QACQvD,iB,GAAAA,iB","file":"gallery-controller.js","sourcesContent":["class GalleryController {\r\n    constructor($scope, imageService, detailImageService, $mdDialog) {\r\n        this.init($scope, imageService, detailImageService, $mdDialog);\r\n    }\r\n    init($scope, imageService, detailImageService, $mdDialog) {\r\n        $scope.resizingImages = [];\r\n\r\n        $scope.stylesCardWidth = [\r\n            {\r\n                width: 'width-1-col'\r\n            },\r\n            {\r\n                width: 'width-2-col'\r\n            }];\r\n\r\n        $scope.stylesCardHeight = [\r\n            {\r\n                height: 'height-1-col'\r\n            },\r\n            {\r\n                height: 'height-2-col'\r\n            }];\r\n\r\n        function getWidthSize () {\r\n            var digit = Math.random();\r\n\r\n            if (digit < 0.5) {\r\n                return $scope.stylesCardWidth[0].width;\r\n            } else {\r\n                return $scope.stylesCardWidth[1].width;\r\n            }\r\n        };\r\n\r\n        function getHeightSize () {\r\n            var digit = Math.random();\r\n            if (digit < 0.5) {\r\n                return $scope.stylesCardHeight[0].height;\r\n            } else {\r\n                return $scope.stylesCardHeight[1].height;\r\n            }\r\n        };\r\n\r\n\r\n        imageService.getAll().then(\r\n            (data) => {\r\n                $scope.resizingImages = randomResizeImages(data.data);\r\n            },\r\n            (err) => {\r\n                console.log(err);\r\n            }\r\n        );\r\n\r\n\r\n        function randomResizeImages(data) {\r\n            return data.map((data) => {\r\n                return {width: getWidthSize(), height: getHeightSize(), image: data}\r\n            });\r\n        }\r\n\r\n        function randomResizeOneImage(image) {\r\n            return {width: getWidthSize(), height: getHeightSize(), image: image};\r\n        }\r\n\r\n        $scope.toDetail = (ev, image) => {\r\n            detailImageService.setImage(image);\r\n            $mdDialog.show({\r\n                templateUrl: './app/controllers/image-detail-controller/image-detail-controller.html',\r\n                parent: angular.element(document.body),\r\n                targetEvent: ev,\r\n                clickOutsideToClose: true,\r\n                fullscreen: false\r\n            }).then((answer) => {\r\n\r\n            }, () => {\r\n                console.log('cancel dialog');\r\n            });\r\n        };\r\n\r\n        $scope.addImage = function (ev) {\r\n            $mdDialog.show({\r\n                templateUrl: './app/controllers/add-image/add-image-controller.html',\r\n                parent: angular.element(document.body),\r\n                targetEvent: ev,\r\n                clickOutsideToClose: true,\r\n                fullscreen: false\r\n            }).then((imageUrl) => {\r\n                createImage(imageUrl);\r\n            }, () => {\r\n                console.log('cancel dialog');\r\n            });\r\n        };\r\n\r\n        function createImage(imageUrl){\r\n            var image = {\r\n                image_url : imageUrl,\r\n                image_likes : [],\r\n                comments: []\r\n            };\r\n\r\n            $scope.resizingImages.push(randomResizeOneImage(image));\r\n        }\r\n\r\n        $scope.countActions = (image, action) => {\r\n            var count = 0;\r\n            image.image_likes.forEach((el, ind, arr) => {\r\n                if(el.like_type === action){\r\n                    count++;\r\n                }\r\n            });\r\n            return count;\r\n        };\r\n    }\r\n}\r\nGalleryController.$inject = ['$scope', 'imageService', 'detailImageService', '$mdDialog'];\r\nexport {GalleryController}"]}